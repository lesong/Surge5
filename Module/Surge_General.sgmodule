#!name=lesong@ğ’ğ®ğ«ğ ğğğ«ğ¨ ğ’ğœğ«ğ¢ğ©ğ­åˆé›†
#!desc=ğ”ğ©ğğšğ­ğ: 2023.02.22
# > èŠ±æ ·å­—ä½“ç”Ÿæˆï¼š https://qwerty.dev/fancy-font-generator/
# > æœºåœºè½¬ä¹‰ğ„ğğ‚ğğƒğ„ï¼š https://www.urlencoder.org

[General]
force-http-engine-hosts = %APPEND% boxjs.com, boxjs.net, *.boxjs.com, *.boxjs.net
# è·³è¿‡ä»£ç†æ£€æµ‹
# www.baidu.comï¼šç½‘ä¸Šå›½ç½‘ã€å¹¿ä¸œå†œä¿¡ã€ä¸°äº‘è¡Œã€ä¸­å›½é“¶è¡Œç¼¤çº·ç”Ÿæ´»ã€é€šä¿¡è¡Œç¨‹å¡app
# yunbusiness.ccb.comï¼šå»ºè¡Œç”Ÿæ´»
# www.abchina.com.cnï¼šä¸­å›½å†œä¸šé“¶è¡Œ
# login-service.mobile-bank.psbc.com,mobile-bank.psbc.comï¼šä¸­å›½é‚®æ”¿å‚¨è“„é“¶è¡Œ
skip-proxy = %APPEND% www.baidu.com,yunbusiness.ccb.com,www.abchina.com.cn,login-service.mobile-bank.psbc.com,mobile-bank.psbc.com

[Header Rewrite]
# > ç™¾åº¦ï¼ˆå…¨ç«™æ›¿æ¢ä¸ºæ‰‹æœºç™¾åº¦ Quark çš„ User-Agentï¼‰
http-request ^https?:\/\/(?!d\.pcs).*(?<!map)\.baidu\.com header-replace-regex User-Agent .+iPhone.+ "Mozilla/5.0 (iPhone; CPU iPhone OS 13_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/13.1.1 Mobile/15E148 Safari/16C50 Quark/604.1 T7/10.3 SearchCraft/2.6.3 (Baidu; P1 8.0.0)"

# > Revenuecat
https:\/\/api\.revenuecat\.com header-del x-revenuecat-etag

[Rule]
# >> é¡¶çº§åŸŸååˆ†æµ
# å¤§é™†é¡¶çº§åŸŸ
DOMAIN-SUFFIX,cn,ğŸŒ å…¨çƒç›´è¿
# é¦™æ¸¯é¡¶çº§åŸŸ
DOMAIN-SUFFIX,hk,ğŸ‡­ğŸ‡° é¦™æ¸¯èŠ‚ç‚¹
# å°æ¹¾é¡¶çº§åŸŸ
DOMAIN-SUFFIX,tw,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
DOMAIN-SUFFIX,hinet.net,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
DOMAIN-SUFFIX,emome.net,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
DOMAIN-SUFFIX,litv.tv,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
DOMAIN-SUFFIX,linkedin.com,ğŸ‡¨ğŸ‡³ å°æ¹¾èŠ‚ç‚¹
# æ–°åŠ å¡é¡¶çº§åŸŸ
DOMAIN-SUFFIX,sg,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹
# éŸ©å›½é¡¶çº§åŸŸ
DOMAIN-SUFFIX,kr,ğŸ‡°ğŸ‡· éŸ©å›½èŠ‚ç‚¹
# æ—¥æœ¬é¡¶çº§åŸŸ
DOMAIN-SUFFIX,jp,ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
# ç¾å›½é¡¶çº§åŸŸ
DOMAIN-SUFFIX,us,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN,lb-rdv-steep.ubisoft.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN,useast1-public-ubiservices.ubi.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN,lens.l.google.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
# æ¬§æ´²è”ç›Ÿé¡¶çº§åŸŸ
DOMAIN-SUFFIX,eu,ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹
# è¥¿æ¬§-è‹±å›½ GBR é¡¶çº§åŸŸ
DOMAIN-SUFFIX,uk,ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹
# è¥¿æ¬§-æ³•å›½ FRA é¡¶çº§åŸŸ
DOMAIN-SUFFIX,fr,ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹
# ä¸­æ¬§-å¾·å›½ DEU é¡¶çº§åŸŸ
DOMAIN-SUFFIX,de,ğŸ‡©ğŸ‡ª å¾·å›½èŠ‚ç‚¹
# æ¬§æ´²-äºšæ´²-ä¿„ç½—æ–¯ RUS é¡¶çº§åŸŸ
DOMAIN-SUFFIX,ru,ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹
# ä¸­æ¬§-æ³¢å…° POL é¡¶çº§åŸŸ
DOMAIN-SUFFIX,pl,ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹
# è¥¿åŒ—-è·å…° NLD é¡¶çº§åŸŸ
DOMAIN-SUFFIX,nl,ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹
# è¥¿å—-è¥¿ç­ç‰™ ESP é¡¶çº§åŸŸ
DOMAIN-SUFFIX,es,ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹
# åŒ—æ¬§-ä¸¹éº¦ DNK é¡¶çº§åŸŸ
DOMAIN-SUFFIX,dk,ğŸ‡¬ğŸ‡§ è‹±å›½èŠ‚ç‚¹
# > äººå·¥æ™ºèƒ½
DOMAIN-SUFFIX,openai.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,chat.openai.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,challenges.cloudflare.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,chat.openai.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,auth0.openai.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,ai.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,openai.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,bing.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,auth0.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,sentry.io,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,hcaptcha.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,recaptcha.net,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,gstatic.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,gvt2.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,gvt1.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,gvt3.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,cloudflare.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
# > ä¸ªäººåˆ†æµ
DOMAIN,ip-api.com,ğŸš€ æ‰‹åŠ¨é€‰æ‹©
DOMAIN,raw.githubusercontent.com,Proxy
DOMAIN-KEYWORD,github,Proxy
DOMAIN-SUFFIX,sub.store,Proxy
DOMAIN,wuqianma.top,ğŸŒ å…¨çƒç›´è¿
DOMAIN-KEYWORD,akamai,Proxy
DOMAIN,delivery238.akamai-cdn-content.com,ğŸš€ æ‰‹åŠ¨é€‰æ‹©
DOMAIN,jaavnacsdw.com,REJECT
DOMAIN,ausoafab.net,REJECT
DOMAIN,one.ipic.lol,ğŸš€ æ‰‹åŠ¨é€‰æ‹©
DOMAIN,bilibi.lol,ğŸš€ æ‰‹åŠ¨é€‰æ‹©
DOMAIN-KEYWORD,picd232,ğŸ‡¯ğŸ‡µ æ—¥æœ¬èŠ‚ç‚¹
DOMAIN,qpic.ws,ğŸŒ å…¨çƒç›´è¿
# > ChatGPT ä»£ç† 
DOMAIN-SUFFIX, openai.com,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹
DOMAIN, cdn.auth0.com,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹
DOMAIN, openaiapi-site.azureedge.net,ğŸ‡¸ğŸ‡¬ æ–°åŠ å¡èŠ‚ç‚¹
# > Safari é˜²è·³è½¬
DOMAIN,app-site-association.cdn-apple.com,REJECT
# > å±è”½HTTP3/QUICåè®®
AND,((PROTOCOL,UDP), (DEST-PORT,443)),REJECT-NO-DROP
# > æ‹’ç»å›½å®¶åè¯ˆä¸­å¿ƒè¯·æ±‚
DOMAIN-SUFFIX,gjfzpt.cn,REJECT
# Boxjs ä»£ç†
DOMAIN-KEYWORD,jsdelivr.net,Proxy
# å±è”½YouTubeçš„UDP
AND,((PROTOCOL,UDP), (DOMAIN-SUFFIX,googlevideo.com)),REJECT-NO-DROP
# ç»•è¿‡Appä¼ä¸šè¯ä¹¦è¿‡æœŸ
DOMAIN,ocsp.apple.com,Reject
# iQZone ä»£ç†
DOMAIN,uuu.glass,Proxy
# BT
DOMAIN-SUFFIX,smtp,ğŸŒ å…¨çƒç›´è¿
DOMAIN-KEYWORD,aria2,ğŸŒ å…¨çƒç›´è¿
DOMAIN-KEYWORD,announce,ğŸŒ å…¨çƒç›´è¿
DOMAIN-KEYWORD,torrent,ğŸŒ å…¨çƒç›´è¿
DOMAIN-KEYWORD,tracker,ğŸŒ å…¨çƒç›´è¿
URL-REGEX,(Subject|HELO|SMTP),ğŸŒ å…¨çƒç›´è¿
URL-REGEX,(api|ps|sv|offnavi|newvector|ulog.imap|newloc)(.map|).(baidu|n.shifen).com,ğŸŒ å…¨çƒç›´è¿
# è¿…é›·
URL-REGEX,(.?)(xunlei|sandai|Thunder|XLLiveUD)(.),ğŸŒ å…¨çƒç›´è¿
DOMAIN-SUFFIX,xunlei.com,ğŸŒ å…¨çƒç›´è¿
PROCESS-NAME,DownloadService,ğŸŒ å…¨çƒç›´è¿
PROCESS-NAME,Weiyun,ğŸŒ å…¨çƒç›´è¿
PROCESS-NAME,baidunetdisk,ğŸŒ å…¨çƒç›´è¿
URL-REGEX,(api|ps|sv|offnavi|newvector|ulog\.imap|newloc)(\.map|)\.(baidu|n\.shifen)\.com,ğŸŒ å…¨çƒç›´è¿
# >> UItra Mobile
DOMAIN-SUFFIX,analytics.amplitude.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,api.amplitude.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,api2.amplitude.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,cdn.amplitude.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,info.amplitude.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,regionconfig.amplitude.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,static.amplitude.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,launchdarkly.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,ultramobile.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-KEYWORD,ultramobile.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
# >> target
DOMAIN-SUFFIX,target.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-SUFFIX,carnivalmobile.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN-KEYWORD,target,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
# >> bestbuy
DOMAIN-KEYWORD,bestbuy,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹
DOMAIN,pisces.bbystatic.com,ğŸ‡ºğŸ‡² ç¾å›½èŠ‚ç‚¹


[URL Rewrite]
# å°† google.cn çš„è¯·æ±‚é‡å®šå‘åˆ° google.com
^(http|https):\/\/(www.)?(g|google)\.cn https://www.google.com 307

[Script]
# > BoxJs
Rewrite: BoxJs = type=http-request,pattern=^https?:\/\/(.+\.)?boxjs\.(com|net),script-path=https://raw.githubusercontent.com/chavyleung/scripts/master/box/chavy.boxjs.js, requires-body=true, timeout=120

# > ç™¾åº¦æœç´¢é˜²è·³è½¬ App Store by app2smile
ç™¾åº¦æœç´¢é˜²è·³è½¬ = type=http-response,pattern=^https?\:\/\/boxer\.baidu\.com\/scheme,script-path=https://raw.githubusercontent.com/app2smile/rules/master/js/baidu-no-redirect.js

# > åˆ¤æ–­ç½‘ç»œæ˜¯å¦èƒ½å¤Ÿè¿æ¥è°·æ­Œï¼Œå¦‚æœä¸èƒ½åˆ™è‡ªåŠ¨åˆ‡æ¢ä»£ç†
#proxy_auto_switch = type=event,event-name=network-changed,timeout=10,debug=1,script-path=https://raw.githubusercontent.com/shinyypig/Surge-Scripts/main/scripts/proxy_auto_switch.js

# > äº¬ä¸œApp å†å²ä»·æ ¼ api.m.jd.com,
äº¬ä¸œå†å²ä»·æ ¼ = type=http-response,requires-body=1,pattern=^https?://api\.m\.jd\.com/client\.action\?functionId=(wareBusiness|serverConfig|basicConfig),script-path=https://raw.githubusercontent.com/jnlaoshu/MySelf/main/Script/JDPrice.js

# > Nicegramä¼šå‘˜ restore-access.indream.app
Nicegramä¼šå‘˜ = type=http-request,pattern=^https?:\/\/restore-access\.indream\.app\/restoreAccess\?id=\w+$,requires-body=0,max-size=0,script-path=https://raw.githubusercontent.com/jnlaoshu/MySelf/main/Script/Nicegram.js,script-update-interval=0

# > ç¾å›¢å¤–å–å»å¼€å±å¹¿å‘Š by blackmatrix7
ç¾å›¢å¤–å–å»å¼€å±å¹¿å‘Š = type=http-response,requires-body=1,max-size=0,pattern=^https?:\/\/wmapi\.meituan\.com\/api\/v\d+\/loadInfo?,script-path=https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/script/startup/startup.js

# > æ‰«æå…¨èƒ½ç‹é«˜çº§ä¼šå‘˜ ap*.intsig.net,
æ‰«æå…¨èƒ½ç‹é«˜çº§ä¼šå‘˜ = requires-body=1,max-size=0,script-path=https://raw.githubusercontent.com/jnlaoshu/MySelf/master/Script/CamScanner.js,type=http-response,pattern=https:\/\/(api|api-cs)\.intsig\.net\/purchase\/cs\/query_property\?,script-update-interval=0

# > é¿å… Google æœç´¢å¯èƒ½å‡ºç°çš„äººæœºéªŒè¯ by NobyDa
Google_CAPTCHA.js = type=http-response,pattern=^https:\/\/www\.google\.com(\.[a-z]+|)\/search\?q=,requires-body=1,debug=0,script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/Google_CAPTCHA.js,max-size=0,timeout=10,ability=http-client-policy,argument=^(ğŸ‡¸ğŸ‡¬|ğŸ‡­ğŸ‡°)\s.*\d+$

[MITM]
hostname = %APPEND% g.cn, www.g.cn, google.cn, www.google.cn, boxjs.com, boxjs.net, *.boxjs.com, *.boxjs.net, mbd.baidu.com, boxer.baidu.com, api.revenuecat.com, api.m.jd.com, restore-access.indream.app, ap*.intsig.net, wmapi.meituan.com, www.google.com*
